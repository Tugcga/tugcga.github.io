var Controller=pc.createScript("controller");function getRandom(t,o){return Math.random()*(o-t)+t}Controller.attributes.add("ballPrefab",{type:"asset"}),Controller.attributes.add("positionWidth",{type:"number"}),Controller.attributes.add("positionHeight",{type:"number"}),Controller.attributes.add("countEntity",{type:"entity"}),Controller.prototype.initialize=function(){this.objects=[],this.objectsData=[],this.totalCount=0,this.g=-9.8,this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this)},Controller.prototype.onMouseDown=function(t){for(var o=Math.floor(this.totalCount/2)+1,i=0;i<o;i++){var s=this.ballPrefab.resource.instantiate();this.entity.addChild(s),this.objects.push(s);var e=getRandom(.25,1);this.objectsData.push({x:getRandom(-this.positionWidth,this.positionWidth),y:getRandom(this.positionHeight/4,this.positionHeight),z:getRandom(-this.positionWidth,this.positionWidth),s:e,v:0}),s.setLocalScale(e,e,e)}this.totalCount=this.totalCount+o,this.countEntity.element.text=this.totalCount.toString()},Controller.prototype.update=function(t){for(var o=0;o<this.objectsData.length;o++)this.objectsData[o].v+=this.g*t,this.objectsData[o].y+=this.objectsData[o].v*t,this.objectsData[o].y<0&&(this.objectsData[o].v*=-1,this.objectsData[o].y*=-1),this.objects[o].setPosition(this.objectsData[o].x,this.objectsData[o].y,this.objectsData[o].z)};var FpsCounter=pc.createScript("fpsCounter");FpsCounter.attributes.add("fpsEntity",{type:"entity"}),FpsCounter.prototype.initialize=function(){this.lastFPSUpdate=0,this.fpsAccumulator=0,this.fpsSteps=0},FpsCounter.prototype.update=function(t){var s=Date.now();s-this.lastFPSUpdate>1e3&&(this.fpsEntity.element.text=(this.fpsSteps/this.fpsAccumulator).toString(),this.lastFPSUpdate=s,this.fpsAccumulator=0,this.fpsSteps=0),this.fpsAccumulator+=t,this.fpsSteps+=1};