(()=>{"use strict";var t,e,s,i,_,m,r={},o={};function n(t){var e=o[t];if(void 0!==e)return e.exports;var s=o[t]={id:t,loaded:!1,exports:{}};return r[t](s,s.exports,n),s.loaded=!0,s.exports}n.m=r,t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",s="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",i=t=>{t&&!t.d&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},n.a=(_,m,r)=>{var o;r&&((o=[]).d=1);var n,a,h,l=new Set,c=_.exports,u=new Promise(((t,e)=>{h=e,a=t}));u[e]=c,u[t]=t=>(o&&t(o),l.forEach(t),u.catch((t=>{}))),_.exports=u,m((_=>{var m;n=(_=>_.map((_=>{if(null!==_&&"object"==typeof _){if(_[t])return _;if(_.then){var m=[];m.d=0,_.then((t=>{r[e]=t,i(m)}),(t=>{r[s]=t,i(m)}));var r={};return r[t]=t=>t(m),r}}var o={};return o[t]=t=>{},o[e]=_,o})))(_);var r=()=>n.map((t=>{if(t[s])throw t[s];return t[e]})),a=new Promise((e=>{(m=()=>e(r)).r=0;var s=t=>t!==o&&!l.has(t)&&(l.add(t),t&&!t.d&&(m.r++,t.push(m)));n.map((e=>e[t](s)))}));return m.r?a:r()}),(t=>(t?h(u[s]=t):a(c),i(o)))),o&&(o.d=0)},n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((e,s)=>(n.f[s](t,e),e)),[])),n.u=t=>t+".index.js",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),_={},m="project_c:",n.l=(t,e,s,i)=>{if(_[t])_[t].push(e);else{var r,o;if(void 0!==s)for(var a=document.getElementsByTagName("script"),h=0;h<a.length;h++){var l=a[h];if(l.getAttribute("src")==t||l.getAttribute("data-webpack")==m+s){r=l;break}}r||(o=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.setAttribute("data-webpack",m+s),r.src=t),_[t]=[e];var c=(e,s)=>{r.onerror=r.onload=null,clearTimeout(u);var i=_[t];if(delete _[t],r.parentNode&&r.parentNode.removeChild(r),i&&i.forEach((t=>t(s))),e)return e(s)},u=setTimeout(c.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=c.bind(null,r.onerror),r.onload=c.bind(null,r.onload),o&&document.head.appendChild(r)}},n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.v=(t,e,s,i)=>{var _=fetch(n.p+""+s+".module.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(_,i).then((e=>Object.assign(t,e.instance.exports))):_.then((t=>t.arrayBuffer())).then((t=>WebAssembly.instantiate(t,i))).then((e=>Object.assign(t,e.instance.exports)))},(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var s=e.getElementsByTagName("script");s.length&&(t=s[s.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{var t={179:0};n.f.j=(e,s)=>{var i=n.o(t,e)?t[e]:void 0;if(0!==i)if(i)s.push(i[2]);else{var _=new Promise(((s,_)=>i=t[e]=[s,_]));s.push(i[2]=_);var m=n.p+n.u(e),r=new Error;n.l(m,(s=>{if(n.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var _=s&&("load"===s.type?"missing":s.type),m=s&&s.target&&s.target.src;r.message="Loading chunk "+e+" failed.\n("+_+": "+m+")",r.name="ChunkLoadError",r.type=_,r.request=m,i[1](r)}}),"chunk-"+e,e)}};var e=(e,s)=>{var i,_,[m,r,o]=s,a=0;if(m.some((e=>0!==t[e]))){for(i in r)n.o(r,i)&&(n.m[i]=r[i]);o&&o(n)}for(e&&e(s);a<m.length;a++)_=m[a],n.o(t,_)&&t[_]&&t[_][0](),t[_]=0},s=self.webpackChunkproject_c=self.webpackChunkproject_c||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})();const a=75,h=1e3,l=600,c=8;function u(t,e,s,i){const _=Math.sqrt((t-s)*(t-s)+(e-i)*(e-i));return _>c?0:1-_/c}class d{constructor(){this.m_last_time_active=!1,this.m_ignore_time=!1,this.m_active_steps=!1,this.m_steps_play=new Audio("assets\\audio\\steps.ogg"),this.m_backgrounds=["assets\\audio\\background\\variant_01.mp3","assets\\audio\\background\\variant_02.mp3","assets\\audio\\background\\variant_03.mp3","assets\\audio\\background\\variant_04.mp3","assets\\audio\\background\\variant_05.mp3","assets\\audio\\background\\variant_06.mp3"],this.m_background_play=null}set_ignore_time(t){this.m_ignore_time=t}set_time_active(t){this.m_ignore_time||(t!=this.m_last_time_active&&(t?new Audio("assets\\audio\\time_in.ogg").play():new Audio("assets\\audio\\time_out.ogg").play()),this.m_last_time_active=t)}perks_open(){new Audio("assets\\audio\\window_open_02.ogg").play()}perks_close(){new Audio("assets\\audio\\window_close.ogg").play()}monster_remove(t,e,s,i){var _=new Audio("assets\\audio\\monster_explosion.ogg");_.volume=u(t,e,s,i),_.play()}collect(){new Audio("assets\\audio\\collect_03.ogg").play()}game_finish(){new Audio("assets\\audio\\finish.ogg").play()}bullet_finish(t,e,s,i){var _=new Audio("assets\\audio\\explosion_fail_03.ogg");_.volume=u(t,e,s,i),_.play()}shot_player(){var t=new Audio("assets\\audio\\shot_player.ogg");t.volume=.75,t.play()}shot_monster(t,e,s,i){var _=new Audio("assets\\audio\\shot_monster.ogg");_.volume=u(t,e,s,i),_.play()}use_shield(){new Audio("assets\\audio\\use_shield_02.ogg").play()}set_move(t){this.m_active_steps?t||(this.m_steps_play.pause(),this.m_active_steps=!1):t&&(this.m_steps_play.play(),this.m_steps_play.loop=!0,this.m_active_steps=!0)}start_background(){const t=Math.floor(Math.random()*this.m_backgrounds.length);this.m_background_play=new Audio(this.m_backgrounds[t]),this.m_background_play.play(),this.m_background_play.loop=!0}stop_background(){null!=this.m_background_play&&this.m_background_play.pause(),this.m_background_play=null}}const p=[128,192,128],g=[138,25,10],x="rgba(196, 96, 82, 0.25)",y="rgba(148, 29, 13, 0.25)",f=["rgba(212, 118, 4, 0.5)","rgba(186, 64, 4, 0.5)","rgba(153, 52, 2, 0.5)","rgba(102, 35, 2, 0.5)","rgba(184, 20, 2, 0.5)","rgba(153, 9, 2, 0.5)","rgba(102, 6, 1, 0.5)","rgba(51, 3, 1, 0.5)","rgba(15, 1, 0, 0.5)"],w=32,v=256,k="rgba(128, 128, 128, 0.5)",b="rgba(88, 143, 232, 0.5)",E="rgba(159, 200, 227, 0.25)";class I{constructor(t,e,s,i){this.m_context=t,this.m_width=e,this.m_height=s,this.m_energy_total=1,this.m_energy_current=1,this.m_shield_count=0,this.m_icon_time=new Image,this.m_icon_time.src="assets\\icons\\icon_clock_32.png",this.m_icon_shield=new Image,this.m_icon_shield.src="assets\\icons\\icon_shield_32.png",this.m_icon_music_on=new Image,this.m_icon_music_on.src="assets\\icons\\music_on_32.png",this.m_icon_music_off=new Image,this.m_icon_music_off.src="assets\\icons\\music_off_32.png",this.m_draw_music_on=i,this.m_perk_icons=[new Image,new Image,new Image,new Image,new Image,new Image,new Image],this.m_perk_icons[0].src="assets\\icons\\perk_0_ui.png",this.m_perk_icons[1].src="assets\\icons\\perk_1_ui.png",this.m_perk_icons[2].src="assets\\icons\\perk_2_ui.png",this.m_perk_icons[3].src="assets\\icons\\perk_3_ui.png",this.m_perk_icons[4].src="assets\\icons\\perk_4_ui.png",this.m_perk_icons[5].src="assets\\icons\\perk_5_ui.png",this.m_perk_icons[6].src="assets\\icons\\perk_6_ui.png",this.m_perks_draw_indices=[0,0,0]}set_draw_perks(t,e,s){this.m_perks_draw_indices[0]=t,this.m_perks_draw_indices[1]=e,this.m_perks_draw_indices[2]=s}set_play_background(t){this.m_draw_music_on=t}set_energy(t,e,s){this.m_energy_active=t,this.m_energy_total=e,this.m_energy_current=s}set_shield(t){this.m_shield_count=t}clear(){this.m_context.clearRect(0,0,this.m_width,this.m_height)}draw(){this.clear(),this.m_context.save(),this.m_context.strokeStyle="rgba(64, 64, 64, 0.15)",this.m_context.lineWidth=8,this.m_context.lineCap="round",this.m_context.beginPath(),this.m_context.moveTo(this.m_width-16-v,w),this.m_context.lineTo(this.m_width-16,w),this.m_context.stroke(),this.m_context.restore(),this.m_context.save(),this.m_context.strokeStyle=this.m_energy_active?"rgba(64, 192, 64, 0.5)":k,this.m_context.lineWidth=8,this.m_context.lineCap="round",this.m_context.beginPath(),this.m_context.moveTo(this.m_width-16-v,w),this.m_context.lineTo(this.m_width-16-(1-this.m_energy_current/this.m_energy_total)*v,w),this.m_context.stroke(),this.m_context.restore(),this.m_context.drawImage(this.m_icon_time,this.m_width-16-v-w,16,21,w),this.m_context.drawImage(this.m_icon_shield,16,16,25,w);for(let t=0;t<3;t++)this.m_context.drawImage(this.m_perk_icons[this.m_perks_draw_indices[t]],16,80+48*t+16*t,48,48);this.m_draw_music_on?this.m_context.drawImage(this.m_icon_music_on,this.m_width-16-32,64,32,32):this.m_context.drawImage(this.m_icon_music_off,this.m_width-16-32,64,32,32),this.m_context.save(),this.m_context.strokeStyle=k,this.m_context.lineWidth=8,this.m_context.lineCap="round";for(let t=0;t<this.m_shield_count;t++){this.m_context.beginPath();const e=57+t*w/1.5,s=48;this.m_context.moveTo(e,s),this.m_context.lineTo(e+w,s-w),this.m_context.stroke()}this.m_context.restore()}}var L;!function(t){t[t.PLAYER_ID=0]="PLAYER_ID",t[t.PLAYER_POSITION=1]="PLAYER_POSITION",t[t.PLAYER_RADIUS=2]="PLAYER_RADIUS",t[t.PLAYER_ANGLE=3]="PLAYER_ANGLE",t[t.PLAYER_COOLDAWN_TIME=4]="PLAYER_COOLDAWN_TIME",t[t.PLAYER_COOLDAWN_PROC=5]="PLAYER_COOLDAWN_PROC",t[t.BULLET_POSITION=6]="BULLET_POSITION",t[t.BULLET_ANGLE=7]="BULLET_ANGLE",t[t.BULLET_SPEED=8]="BULLET_SPEED",t[t.BULLET_CLASS=9]="BULLET_CLASS",t[t.ENTITY_CREATE=10]="ENTITY_CREATE",t[t.ENTITY_DESTROY=11]="ENTITY_DESTROY",t[t.TIMESCALER_ENERGY=12]="TIMESCALER_ENERGY",t[t.PLAYER_SKILLPOINTS=13]="PLAYER_SKILLPOINTS",t[t.PLAYER_SHIELD=14]="PLAYER_SHIELD",t[t.MONSTER_POSITION=15]="MONSTER_POSITION",t[t.MONSTER_ANGLE=16]="MONSTER_ANGLE",t[t.MONSTER_LIFE=17]="MONSTER_LIFE",t[t.MONSTER_RADIUS=18]="MONSTER_RADIUS",t[t.MONSTER_ATACK=19]="MONSTER_ATACK",t[t.TIME=20]="TIME",t[t.PLAYER_ALIVE=21]="PLAYER_ALIVE"}(L||(L={}));class A{constructor(t){this.m_ui_canvas=t,this.m_skillpoints=0,this.m_available_perks=[0,0,0],this.m_require_skillpoints=[0,0,0],this.m_last_update=[-1,-1,-1],this.m_last_require=[0,0,0],this.m_last_skills=-1,this.m_div_oerks=[document.getElementById("ui_div_perk_0"),document.getElementById("ui_div_perk_1"),document.getElementById("ui_div_perk_2")],this.m_img_perks=[document.getElementById("ui_img_perk_0"),document.getElementById("ui_img_perk_1"),document.getElementById("ui_img_perk_2")],this.m_text_perks=[document.getElementById("ui_p_perk_0"),document.getElementById("ui_p_perk_1"),document.getElementById("ui_p_perk_2")],this.m_text_require=[document.getElementById("ui_s_perk_0"),document.getElementById("ui_s_perk_1"),document.getElementById("ui_s_perk_2")],this.m_text_skillpoints=document.getElementById("ui_p_skillpoints")}active_event(){new Audio("\\assets\\audio\\click_02.ogg").play()}failed_event(){new Audio("\\assets\\audio\\click_fail.ogg").play()}set_skillpoints_count(t){this.m_skillpoints=t}set_available_perks(t,e,s){this.m_available_perks=[t,e,s]}set_require_skillpoints(t,e,s){this.m_require_skillpoints=[t,e,s]}update_one_pekr(t){const e=this.m_available_perks[t],s=this.m_require_skillpoints[t],i=this.m_div_oerks[t];let _="",m="",r="To upgrade require "+this.m_require_skillpoints[t]+" points";0==e?(_="assets\\icons\\perk_0.png",m="Increase movement speed"):1==e?(_="assets\\icons\\perk_1.png",m="Increase the frequency of shots"):2==e?(_="assets\\icons\\perk_2.png",m="Increase the number of bullets per one shot"):3==e?(_="assets\\icons\\perk_3.png",m="Increase the power of the shot"):4==e?(_="assets\\icons\\perk_4.png",m="Increase the time control energy"):5==e?(_="assets\\icons\\perk_5.png",m="Add one shield module"):6==e&&(_="assets\\icons\\perk_6.png",m="Increase the radius of the explosion"),this.m_img_perks[t].src=_,this.m_text_perks[t].innerText=m,this.m_text_require[t].innerText=r,i.removeEventListener("mousedown",this.active_event),i.removeEventListener("mousedown",this.failed_event),this.m_skillpoints>=s?i.addEventListener("mousedown",this.active_event):i.addEventListener("mousedown",this.failed_event)}update(){this.m_last_update[0]==this.m_available_perks[0]&&this.m_last_update[1]==this.m_available_perks[1]&&this.m_last_update[2]==this.m_available_perks[2]&&this.m_last_skills==this.m_skillpoints&&this.m_last_require[0]==this.m_require_skillpoints[0]&&this.m_last_require[1]==this.m_require_skillpoints[1]&&this.m_last_require[2]==this.m_require_skillpoints[2]||(this.update_one_pekr(0),this.update_one_pekr(1),this.update_one_pekr(2),this.m_last_update[0]=this.m_available_perks[0],this.m_last_update[1]=this.m_available_perks[1],this.m_last_update[2]=this.m_available_perks[2],this.m_last_require[0]=this.m_require_skillpoints[0],this.m_last_require[1]=this.m_require_skillpoints[1],this.m_last_require[2]=this.m_require_skillpoints[2],this.m_text_skillpoints.innerText="Perk points: "+this.m_skillpoints,this.m_last_skills=this.m_skillpoints,this.m_ui_canvas.set_draw_perks(this.m_available_perks[0],this.m_available_perks[1],this.m_available_perks[2]))}}class T{constructor(){this.m_matrix=new Float32Array(9),this.m_angle=0,this.m_scale_x=1,this.m_scale_y=1,this.m_matrix[0]=1,this.m_matrix[1]=0,this.m_matrix[2]=0,this.m_matrix[3]=0,this.m_matrix[4]=1,this.m_matrix[5]=0,this.m_matrix[6]=0,this.m_matrix[7]=0,this.m_matrix[8]=1}matrix_array(){return this.m_matrix}set_matrix_array(t){for(let e=0;e<9;e++)this.m_matrix[e]=t[e];this.m_scale_x=Math.sqrt(this.m_matrix[0]*this.m_matrix[0]+this.m_matrix[3]*this.m_matrix[3]),this.m_scale_y=Math.sqrt(this.m_matrix[1]*this.m_matrix[1]+this.m_matrix[4]*this.m_matrix[4]);const e=Math.atan2(this.m_matrix[3],this.m_matrix[0]);this.m_matrix[0]>=0?this.m_angle=e:this.m_angle=Math.PI+e}set_translation(t,e){this.m_matrix[2]=t,this.m_matrix[5]=e}translation(){return[this.m_matrix[2],this.m_matrix[5]]}_update_rotation(){this.m_matrix[0]=Math.cos(this.m_angle)*this.m_scale_x,this.m_matrix[3]=Math.sin(this.m_angle)*this.m_scale_x,this.m_matrix[1]=-Math.sin(this.m_angle)*this.m_scale_y,this.m_matrix[4]=Math.cos(this.m_angle)*this.m_scale_y}set_rotation(t){this.m_angle=t,this._update_rotation()}rotation(){return this.m_angle}set_scale(t,e){this.m_scale_x=t,this.m_scale_y=e,this._update_rotation()}set_uniform_scale(t){this.m_scale_x=t,this.m_scale_y=t,this._update_rotation()}multiply(t,e){return[this.m_matrix[0]*t+this.m_matrix[1]*e+this.m_matrix[2],this.m_matrix[3]*t+this.m_matrix[4]*e+this.m_matrix[5]]}apply_scale(t){return t*(Math.sqrt(this.m_matrix[0]*this.m_matrix[0]+this.m_matrix[3]*this.m_matrix[3])+Math.sqrt(this.m_matrix[1]*this.m_matrix[1]+this.m_matrix[4]*this.m_matrix[4]))/2}compose_tfms(t){let e=new T;const s=this.matrix_array(),i=t.matrix_array();let _=[s[0]*i[0]+s[1]*i[3]+s[2]*i[6],s[0]*i[1]+s[1]*i[4]+s[2]*i[7],s[0]*i[2]+s[1]*i[5]+s[2]*i[8],s[3]*i[0]+s[4]*i[3]+s[5]*i[6],s[3]*i[1]+s[4]*i[4]+s[5]*i[7],s[3]*i[2]+s[4]*i[5]+s[5]*i[8],s[6]*i[0]+s[7]*i[3]+s[8]*i[6],s[6]*i[1]+s[7]*i[4]+s[8]*i[7],s[6]*i[2]+s[7]*i[5]+s[8]*i[8]];return e.set_matrix_array(_),e}_det2(t,e,s,i){return t*i-e*s}inverse(){const t=this.m_matrix[0]*this.m_matrix[4]*this.m_matrix[8]+this.m_matrix[2]*this.m_matrix[3]*this.m_matrix[7]+this.m_matrix[1]*this.m_matrix[5]*this.m_matrix[6]-this.m_matrix[2]*this.m_matrix[4]*this.m_matrix[6]-this.m_matrix[0]*this.m_matrix[5]*this.m_matrix[7]-this.m_matrix[1]*this.m_matrix[3]*this.m_matrix[8],e=[this._det2(this.m_matrix[4],this.m_matrix[5],this.m_matrix[7],this.m_matrix[8])/t,-1*this._det2(this.m_matrix[1],this.m_matrix[2],this.m_matrix[7],this.m_matrix[8])/t,this._det2(this.m_matrix[1],this.m_matrix[2],this.m_matrix[4],this.m_matrix[5])/t,-1*this._det2(this.m_matrix[3],this.m_matrix[5],this.m_matrix[6],this.m_matrix[8])/t,this._det2(this.m_matrix[0],this.m_matrix[2],this.m_matrix[6],this.m_matrix[8])/t,-1*this._det2(this.m_matrix[0],this.m_matrix[2],this.m_matrix[3],this.m_matrix[5])/t,this._det2(this.m_matrix[3],this.m_matrix[4],this.m_matrix[6],this.m_matrix[7])/t,-1*this._det2(this.m_matrix[0],this.m_matrix[1],this.m_matrix[6],this.m_matrix[7])/t,this._det2(this.m_matrix[0],this.m_matrix[1],this.m_matrix[3],this.m_matrix[4])/t];let s=new T;return s.set_matrix_array(e),s}toString(){let t="";return t+=this.m_matrix[0]+", "+this.m_matrix[1]+", "+this.m_matrix[2]+"\n",t+=this.m_matrix[3]+", "+this.m_matrix[4]+", "+this.m_matrix[5]+"\n",t+=this.m_matrix[6]+", "+this.m_matrix[7]+", "+this.m_matrix[8],t}}class S{constructor(t,e){this.m_wtc_tfm=e,this.m_context=t}}class M extends S{constructor(t,e,s,i,_){super(t,e),this.m_level_box=s,this.m_canvas_width=i,this.m_canvas_height=_}draw(){const[t,e]=this.m_wtc_tfm.multiply(this.m_level_box[0],this.m_level_box[1]),[s,i]=this.m_wtc_tfm.multiply(this.m_level_box[2],this.m_level_box[3]),_=(t+s)/2,m=(e+i)/2;this.m_context.save(),this.m_context.fillStyle="rgb(64, 64, 64)",this.m_context.fillRect(0,0,this.m_canvas_width,this.m_canvas_height),this.m_context.fillStyle="rgb(192, 192, 192)",this.m_context.fillRect(t,e,s-t,i-e),this.m_context.restore();const r=Math.floor((s-_)/a)+1,o=Math.floor((e-m)/a)+1;this.m_context.save(),this.m_context.strokeStyle="rgb(156, 156, 156)",this.m_context.lineWidth=1,this.m_context.beginPath();for(let t=1;t<r;t++)this.m_context.moveTo(_+t*a,e),this.m_context.lineTo(_+t*a,i),this.m_context.moveTo(_-t*a,e),this.m_context.lineTo(_-t*a,i);for(let e=1;e<o;e++)this.m_context.moveTo(t,m+e*a),this.m_context.lineTo(s,m+e*a),this.m_context.moveTo(t,m-e*a),this.m_context.lineTo(s,m-e*a);this.m_context.stroke(),this.m_context.restore(),this.m_context.save(),this.m_context.strokeStyle="rgb(128, 128, 128)",this.m_context.lineWidth=2,this.m_context.beginPath(),this.m_context.moveTo(_,e),this.m_context.lineTo(_,i),this.m_context.moveTo(t,m),this.m_context.lineTo(s,m),this.m_context.stroke(),this.m_context.restore()}}class P extends S{constructor(t,e,s,i){super(t,e),this.m_tfm=new T,this.m_tfm.set_translation(s,i)}draw(){this.m_context.save(),this.m_context.fillStyle="rgba(39, 131, 196, 0.75)",this.m_context.beginPath();const t=this.m_wtc_tfm.compose_tfms(this.m_tfm).multiply(0,0);this.m_context.arc(t[0],t[1],8,0,2*Math.PI),this.m_context.fill(),this.m_context.restore()}}class R extends S{constructor(t,e,s){super(t,e),this.m_fill_color="",this.m_stroke_width=0,this.m_stroke_color="",this.m_is_stroke=!1,this.m_radius=s,this.m_tfm=new T,this.m_percent=1}get_transform(){return this.m_tfm}get_radius(){return this.m_radius}get_stroke_color(){return this.m_stroke_color}set_radius(t){this.m_radius=t}set_position(t,e){this.m_tfm.set_translation(t,e)}set_rotation(t){this.m_tfm.set_rotation(t)}draw(){this.m_context.save(),this.m_context.lineWidth=this.m_stroke_width,this.m_context.fillStyle=this.m_fill_color,this.m_context.strokeStyle=this.get_stroke_color(),this.m_context.beginPath();const t=this.m_wtc_tfm.compose_tfms(this.m_tfm),e=t.multiply(0,0),s=t.apply_scale(this.m_radius),i=t.multiply(this.m_radius*Math.SQRT2,0),_=-this.m_tfm.rotation();this.m_context.arc(e[0],e[1],s,_+Math.PI/4,2*Math.PI+_-Math.PI/4),this.m_context.lineTo(i[0],i[1]),this.m_context.closePath(),this.m_context.fill(),this.m_is_stroke&&this.m_context.stroke(),this.m_context.restore(),this.overdraw()}overdraw(){}}class O extends R{constructor(t,e,s){super(t,e,s),this.m_stroke_array=new Int32Array(p),this.m_fill_color="rgba(160, 216, 160, 0.75)",this.m_stroke_width=4,this.m_stroke_color=this.get_stroke_color(),this.m_is_stroke=!0}get_stroke_color(){return"rgba("+this.m_stroke_array[0]+", "+this.m_stroke_array[1]+", "+this.m_stroke_array[2]+", "+this.m_percent+")"}set_percent(t){this.m_percent=t}}class N extends R{constructor(t,e,s){super(t,e,s),this.m_life=0,this.m_max_life=0,this.m_cooldawnproc=1,this.m_atack_proc=0,this.m_stroke_array=new Int32Array(g),this.m_fill_color=x,this.m_stroke_width=3,this.m_is_stroke=!0,this.m_stroke_color=x,this.m_stroke_color=this.get_stroke_color()}set_proc(t,e){this.m_cooldawnproc=Math.min(Math.max(t,0),1),this.m_atack_proc=Math.min(Math.max(e,0),1)}get_stroke_color(){return"rgba("+this.m_stroke_array[0]+", "+this.m_stroke_array[1]+", "+this.m_stroke_array[2]+", "+.5*(this.m_cooldawnproc+this.m_atack_proc)+")"}set_life(t,e){this.m_life=t,this.m_max_life=e}overdraw(){if(this.m_life>0&&this.m_max_life>0){const t=this.m_wtc_tfm.compose_tfms(this.m_tfm),e=t.multiply(0,0),s=t.apply_scale(this.m_radius)-3,i=-this.m_tfm.rotation();if(this.m_context.save(),this.m_context.fillStyle=y,this.m_context.strokeStyle=y,1==this.m_max_life)this.m_context.beginPath(),this.m_context.arc(e[0],e[1],s,0,2*Math.PI),this.m_context.fill(),this.m_context.stroke();else{const t=2*Math.PI/this.m_max_life;for(let _=0;_<this.m_life;_++)this.m_context.beginPath(),this.m_context.arc(e[0],e[1],s,t*_+i,t*(_+1)+i),this.m_context.lineTo(e[0],e[1]),this.m_context.closePath(),this.m_context.fill(),this.m_context.stroke()}this.m_context.restore()}}}class B extends S{constructor(t,e){super(t,e),this.m_tfm=new T,this.m_class=0,this.m_speed=0}set_speed(t){this.m_speed=t}set_class(t){this.m_class=t}set_angle(t){this.m_tfm.set_rotation(t)}set_position(t,e){this.m_tfm.set_translation(t,e)}draw(){this.m_context.save(),this.m_context.fillStyle=f[Math.min(this.m_class-1,f.length-1)],this.m_context.beginPath();const t=this.m_wtc_tfm.compose_tfms(this.m_tfm),e=t.multiply(0,0),s=t.multiply(.025*-this.m_speed,0),i=-this.m_tfm.rotation();this.m_context.arc(e[0],e[1],6,i-Math.PI/2,i+Math.PI/2),this.m_context.lineTo(s[0],s[1]),this.m_context.closePath(),this.m_context.fill(),this.m_context.restore()}}function Y(t,e){return Math.random()*(e-t)+t}class C extends S{constructor(t,e,s,i,_,m){super(t,e),this.m_tfm=new T,this.m_tfm.set_translation(s,i),this.m_life_time=m,this.m_time_accumulator=0,this.m_radius=_,this.m_rays_count=this.get_rays_count(),this.m_points=new Float32Array(8*this.m_rays_count);const r=2*Math.PI/this.m_rays_count,o=this.get_rotation();for(let t=0;t<this.m_rays_count;t++){const e=Math.cos(o+r*t)*_,s=Math.sin(o+r*t)*_,i=Math.cos(o+r*t+r/2)*_*this.get_rays_difference(),m=Math.sin(o+r*t+r/2)*_*this.get_rays_difference();this.m_points[4*t]=e,this.m_points[4*t+1]=s,this.m_points[4*t+2]=i,this.m_points[4*t+3]=m}for(let t=0;t<4*this.m_rays_count;t++){const e=this.m_points[t]*this.get_inner_scale();this.m_points[t]=this.shift_outer(this.m_points[t]),this.m_points[4*this.m_rays_count+t]=this.shift_inner(e)}}should_delete(){return this.m_time_accumulator>this.m_life_time}draw(t){this.m_time_accumulator+=t;const e=this.m_time_accumulator/this.m_life_time,s=Math.sqrt(e);this.m_context.save();const i=this.m_wtc_tfm.compose_tfms(this.m_tfm);for(let t=0;t<2;t++){this.m_context.fillStyle=0==t?this.get_outer_style():this.get_inner_style(),this.m_context.beginPath();let e=i.multiply(s*this.m_points[4*this.m_rays_count*t],s*this.m_points[4*this.m_rays_count*t+1]);this.m_context.moveTo(e[0],e[1]);for(let _=0;_<this.m_rays_count;_++)e=i.multiply(s*this.m_points[4*this.m_rays_count*t+4*_],s*this.m_points[4*this.m_rays_count*t+4*_+1]),this.m_context.lineTo(e[0],e[1]),e=i.multiply(s*this.m_points[4*this.m_rays_count*t+4*_+2],s*this.m_points[4*this.m_rays_count*t+4*_+3]),this.m_context.lineTo(e[0],e[1]);this.m_context.closePath(),this.m_context.fill()}this.m_context.restore(),this.overdraw(t)}overdraw(t){}get_rays_count(){return 4}get_rotation(){return 0}get_rays_difference(){return 1}get_outer_style(){return"rgb(192, 64, 64)"}get_inner_style(){return"rgb(64, 192, 64)"}get_inner_scale(){return.5}shift_outer(t){return t}shift_inner(t){return t}}class q extends C{get_rays_count(){return Math.floor(Y(6,12))}get_rays_difference(){return.5}get_outer_style(){return"rgba(207, 45, 17, 0.5)"}get_inner_style(){return"rgba(212, 150, 57, 0.6)"}get_inner_scale(){return Y(.45,.55)}shift_outer(t){return Y(.8*t,1.2*t)}shift_inner(t){return Y(.9*t,1.1*t)}}class D extends C{get_rays_count(){return 4}get_rotation(){return Y(0,2*Math.PI)}get_rays_difference(){return.25}get_outer_style(){return"rgba(140, 206, 250, 0.25)"}get_inner_style(){return"rgba(224, 246, 255, 0.25)"}get_inner_scale(){return Y(.45,.55)}shift_outer(t){return Y(.95*t,1.05*t)}shift_inner(t){return Y(.95*t,1.05*t)}}class U extends C{get_rays_count(){return Math.floor(Y(8,14))}get_rays_difference(){return.6}get_outer_style(){return b}get_inner_style(){return E}get_inner_scale(){return Y(.4,.6)}shift_outer(t){return Y(.8*t,1.2*t)}shift_inner(t){return Y(.9*t,1.1*t)}overdraw(t){this.m_context.save(),this.m_context.strokeStyle=b,this.m_context.fillStyle=E,this.m_context.lineWidth=2;const e=this.m_wtc_tfm.compose_tfms(this.m_tfm),s=e.multiply(0,0),i=e.apply_scale(this.m_radius);this.m_context.beginPath(),this.m_context.arc(s[0],s[1],i,0,2*Math.PI),this.m_context.fill(),this.m_context.stroke(),this.m_context.restore()}}class j extends S{constructor(t,e,s,i,_){super(t,e),this.m_parent_tfm=s,this.m_life_time=_,this.m_host_radius=i,this.m_time_accumulator=0;const m=Y(.5,.75),r=Y(.25,.5),o=Y(.25*m,.75*m),n=Y(.25*m*1.1,.9*o),a=Y(.25*m,.75*m),h=Y(.25*m*1.1,.9*a),l=Y(.25*r,r/2),c=Y(.1*r,.25*r*.9),u=Y(.25*r,r/2),d=Y(.1*r,.25*r*.9);this.m_points=[0,.05,o,l,n,c,m,0,h,-d,a,-u,0,-.05]}should_delete(){return this.m_time_accumulator>this.m_life_time}draw(t){this.m_time_accumulator+=t;const e=this.m_time_accumulator/this.m_life_time,s=Math.sqrt(e);this.m_context.save(),this.m_context.fillStyle="rgba(171, 32, 22, 0.25)",this.m_context.beginPath();const i=this.m_wtc_tfm.compose_tfms(this.m_parent_tfm);let _=i.multiply(this.m_host_radius+this.m_points[0]*s,this.m_points[1]*s);this.m_context.moveTo(_[0],_[1]);for(let t=1;t<this.m_points.length/2;t++)_=i.multiply(this.m_host_radius+this.m_points[2*t]*s,this.m_points[2*t+1]*s),this.m_context.lineTo(_[0],_[1]);this.m_context.closePath(),this.m_context.fill(),this.m_context.fillStyle="rgba(242, 198, 39, 0.75)",this.m_context.beginPath();const m=i.multiply(this.m_host_radius+this.m_points[0]*s,this.m_points[1]*s/2);this.m_context.moveTo(m[0],m[1]);const r=i.multiply(this.m_host_radius+this.m_points[4]*s,this.m_points[5]*s),o=i.multiply(this.m_host_radius+this.m_points[6]*s,this.m_points[7]*s),n=i.multiply(this.m_host_radius+this.m_points[8]*s,this.m_points[9]*s),a=i.multiply(this.m_host_radius+this.m_points[12]*s,this.m_points[13]*s/2);this.m_context.quadraticCurveTo(r[0],r[1],o[0],o[1]),this.m_context.quadraticCurveTo(n[0],n[1],a[0],a[1]),this.m_context.closePath(),this.m_context.fill(),this.m_context.restore()}}class F{constructor(t,e,s,i,_,m,r,o){this.m_play_background=function(){const t=window.localStorage.getItem("project_c_background");return null==t||"true"==t}(),this.m_is_game=!1,this.m_show_game_ui=!1,this.m_ctx=t,this.m_ui_perks_div=document.getElementById("ui_perks"),this.m_ui_level_div=document.getElementById("ui_level"),this.m_ui=new I(e,s,i,this.m_play_background),this.m_canvas_width=s,this.m_canvas_height=i,this.m_wtc_tfm=new T,this.m_wtc_tfm.set_translation(0,0),this.m_prev_player_x=0,this.m_prev_player_y=0,this.m_active_time=!1,this.m_wtc_scale=75,this.m_wtc_tfm.set_scale(this.m_wtc_scale,-this.m_wtc_scale),this.m_ctw_tfm=this.m_wtc_tfm.inverse(),this.m_audio=new d,this.m_level=new M(this.m_ctx,this.m_wtc_tfm,new Float32Array([_,r,m,o]),s,i),this.m_player=new O(this.m_ctx,this.m_wtc_tfm,0),this.m_bullets=new Map,this.m_skillpoints=new Map,this.m_monsters=new Map,this.m_perks=new A(this.m_ui),this.m_flashes=[],this.m_explosions=[]}is_active_game(){return this.m_show_game_ui}start_game(){this.m_is_game=!0,this.m_show_game_ui=!0,this.m_ui_level_div.style.visibility="visible",document.getElementById("ui_game_score").style.visibility="hidden",this.m_bullets.clear(),this.m_skillpoints.clear(),this.m_monsters.clear(),this.m_perks=new A(this.m_ui),this.m_flashes=[],this.m_explosions=[],this.m_audio.set_move(!1),this.m_play_background&&this.m_audio.start_background()}stop_game(){if(this.m_show_game_ui){this.m_audio.stop_background(),function(t){var e=new Date;const s=e.getHours(),i=e.getMinutes(),_=e.getSeconds(),m=e.getFullYear(),r=e.getMonth(),o=e.getDate(),n=[t,(s<10?"0":"")+s+":"+(i<10?"0":"")+i+":"+(_<10?"0":"")+_+" "+(m<10?"0":"")+m+"."+(r<10?"0":"")+r+"."+(o<10?"0":"")+o],a=window.localStorage.getItem("project_c_score");if(null!=a){var h=JSON.parse(a);h.push(n),h.sort(((t,e)=>t[0]<e[0]?-1:t[0]>e[0]?1:0));const t=7;h.length<=t?window.localStorage.setItem("project_c_score",JSON.stringify(h)):window.localStorage.setItem("project_c_score",JSON.stringify(h.slice(h.length-t)))}else window.localStorage.setItem("project_c_score",JSON.stringify([n]))}(Number(this.m_ui_level_div.innerHTML)),this.m_audio.game_finish(),this.m_show_game_ui=!1,this.m_ui.clear(),this.hide_perks(),this.m_ui_level_div.style.visibility="hidden",document.getElementById("ui_start_page").style.visibility="visible";const t=document.getElementById("ui_game_score");t.style.visibility="visible",t.innerHTML="Score: "+this.m_ui_level_div.innerHTML;const e=document.getElementById("ui_button_start"),s=document.getElementById("ui_button_highscore");e.style.visibility="visible",s.style.visibility="visible"}}update(t){for(var e=0,s=!1;e<t.length;){const i=t[e],_=t[e+1];if(e+=2,_>0)if(i==L.PLAYER_ID);else if(i==L.PLAYER_POSITION){const s=t[e],i=t[e+1];this.m_player.set_position(s,i),this.m_camera_x=.75*s,this.m_camera_y=.75*-i;const _=Math.abs(s-this.m_prev_player_x)>.001||Math.abs(i-this.m_prev_player_y)>.001;this.m_prev_player_x=s,this.m_prev_player_y=i,this.m_audio.set_move(_)}else if(i==L.PLAYER_RADIUS)this.m_player.set_radius(t[e]);else if(i==L.PLAYER_ANGLE)this.m_player.set_rotation(t[e]);else if(i==L.PLAYER_COOLDAWN_TIME);else if(i==L.PLAYER_COOLDAWN_PROC)this.m_player.set_percent(t[e]);else if(i==L.BULLET_POSITION){const s=t[e],i=t[e+1],_=t[e+2];if(!this.m_bullets.has(s)){let t=new B(this.m_ctx,this.m_wtc_tfm);this.m_bullets.set(s,t)}this.m_bullets.get(s).set_position(i,_)}else if(i==L.BULLET_ANGLE){const s=t[e],i=t[e+1];if(!this.m_bullets.has(s)){let t=new B(this.m_ctx,this.m_wtc_tfm);this.m_bullets.set(s,t)}this.m_bullets.get(s).set_angle(i)}else if(i==L.BULLET_SPEED){const s=t[e],i=t[e+1];if(!this.m_bullets.has(s)){let t=new B(this.m_ctx,this.m_wtc_tfm);this.m_bullets.set(s,t)}this.m_bullets.get(s).set_speed(i)}else if(i==L.BULLET_CLASS){const s=t[e],i=t[e+1];if(!this.m_bullets.has(s)){let t=new B(this.m_ctx,this.m_wtc_tfm);this.m_bullets.set(s,t)}this.m_bullets.get(s).set_class(i)}else if(i==L.ENTITY_CREATE){const i=Math.floor(t[e]),_=Math.floor(t[e+1]),m=t[e+2],r=t[e+3],o=t[e+4];if(3==_){let t=new P(this.m_ctx,this.m_wtc_tfm,m,r);this.m_skillpoints.set(i,t)}else if(1==_){if(1==o)this.m_flashes.push(new j(this.m_ctx,this.m_wtc_tfm,this.m_player.get_transform(),this.m_player.get_radius(),.1)),s=!0;else if(2==o){const s=t[e+5];if(this.m_monsters.has(s)){const t=this.m_monsters.get(s);this.m_flashes.push(new j(this.m_ctx,this.m_wtc_tfm,t.get_transform(),t.get_radius(),.1));const e=this.m_player.get_transform().translation();this.m_audio.shot_monster(e[0],e[1],m,r)}}}else if(4==_){const s=t[e+5];this.m_explosions.push(new U(this.m_ctx,this.m_wtc_tfm,m,r,s,.4)),this.m_audio.use_shield()}}else if(i==L.ENTITY_DESTROY){const s=Math.floor(t[e]),i=Math.floor(t[e+1]),_=t[e+2],m=t[e+3];if(t[e+4],1==i){if(this.m_bullets.has(s)){this.m_bullets.delete(s),this.m_explosions.push(new q(this.m_ctx,this.m_wtc_tfm,_,m,.25*Math.random()+.25,.1));const t=this.m_player.get_transform().translation();this.m_audio.bullet_finish(t[0],t[1],_,m)}}else if(3==i)this.m_skillpoints.has(s)&&(this.m_skillpoints.delete(s),this.m_explosions.push(new D(this.m_ctx,this.m_wtc_tfm,_,m,1,.2)),this.m_audio.collect());else if(2==i&&this.m_monsters.has(s)){const t=this.m_monsters.get(s);this.m_explosions.push(new q(this.m_ctx,this.m_wtc_tfm,_,m,3*t.get_radius(),.1)),this.m_monsters.delete(s);const e=this.m_player.get_transform().translation();this.m_audio.monster_remove(e[0],e[1],_,m)}}else if(i==L.TIMESCALER_ENERGY)this.m_active_time=t[e]>.5,this.m_ui.set_energy(this.m_active_time,t[e+1],t[e+2]),this.m_audio.set_time_active(this.m_active_time);else if(i==L.PLAYER_SKILLPOINTS){this.m_perks.set_skillpoints_count(t[e+1]);const s=t[e];this.m_ui_level_div.innerText=s.toString(),this.m_perks.set_available_perks(t[e+2],t[e+3],t[e+4]),this.m_perks.set_require_skillpoints(t[e+5],t[e+6],t[e+7])}else if(i==L.PLAYER_SHIELD)this.m_ui.set_shield(t[e]);else if(i==L.MONSTER_POSITION){const s=t[e];this.m_monsters.has(s)||this.m_monsters.set(s,new N(this.m_ctx,this.m_wtc_tfm,0)),this.m_monsters.get(s).set_position(t[e+1],t[e+2])}else if(i==L.MONSTER_ANGLE){const s=t[e];this.m_monsters.has(s)||this.m_monsters.set(s,new N(this.m_ctx,this.m_wtc_tfm,0)),this.m_monsters.get(s).set_rotation(t[e+1])}else if(i==L.MONSTER_LIFE){const s=t[e];this.m_monsters.has(s)||this.m_monsters.set(s,new N(this.m_ctx,this.m_wtc_tfm,0)),this.m_monsters.get(s).set_life(t[e+2],t[e+1])}else if(i==L.MONSTER_RADIUS){const s=t[e];this.m_monsters.has(s)||this.m_monsters.set(s,new N(this.m_ctx,this.m_wtc_tfm,0)),this.m_monsters.get(s).set_radius(t[e+1])}else if(i==L.MONSTER_ATACK){const s=t[e],i=t[e+1],_=t[e+2];this.m_monsters.has(s)||this.m_monsters.set(s,new N(this.m_ctx,this.m_wtc_tfm,0)),this.m_monsters.get(s).set_proc(i,_)}else i==L.TIME?(this.m_total_time=t[e],this.m_delta_time=t[e+1]):i==L.PLAYER_ALIVE&&(t[e]>.5||this.stop_game());e+=_}s&&this.m_audio.shot_player(),this.m_wtc_tfm.set_translation(this.m_canvas_width/2-this.m_camera_x*this.m_wtc_scale,this.m_canvas_height/2-this.m_camera_y*this.m_wtc_scale),this.m_ctw_tfm=this.m_wtc_tfm.inverse(),this.m_perks.update()}get_time_active(){return this.m_active_time}canvas_to_world(t,e){return this.m_ctw_tfm.multiply(t,e)}show_perks(){this.m_audio.set_ignore_time(!0),this.m_ui_perks_div.style.visibility="visible",this.m_audio.perks_open()}hide_perks(){this.m_audio.set_ignore_time(!1),this.m_ui_perks_div.style.visibility="hidden",this.m_show_game_ui&&this.m_audio.perks_close()}switch_background_play(){var t;this.m_play_background?(this.m_audio.stop_background(),this.m_ui.set_play_background(!1)):(this.m_audio.start_background(),this.m_ui.set_play_background(!0)),this.m_play_background=!this.m_play_background,t=this.m_play_background,window.localStorage.setItem("project_c_background",t?"true":"false")}draw(){if(this.m_ctx.clearRect(0,0,this.m_canvas_width,this.m_canvas_height),this.m_level.draw(),this.m_is_game){for(let[t,e]of this.m_bullets)e.draw();for(let[t,e]of this.m_monsters)e.draw();for(let[t,e]of this.m_skillpoints)e.draw();this.m_player.draw(),this.m_show_game_ui&&this.m_ui.draw();for(let t=this.m_flashes.length-1;t>=0;t--)this.m_flashes[t].draw(this.m_delta_time),this.m_flashes[t].should_delete()&&this.m_flashes.splice(t,1);for(let t=this.m_explosions.length-1;t>=0;t--)this.m_explosions[t].draw(this.m_delta_time),this.m_explosions[t].should_delete()&&this.m_explosions.splice(t,1)}}}const W=document.getElementById("game_canvas"),G=document.getElementById("ui_canvas");W.width=h,W.height=l,W.style.width=h+"px",W.style.height=l+"px",G.width=h,G.height=l,G.style.width=h+"px",G.style.height=l+"px";const H=document.getElementById("canvas_wrapper");H.style.width=h+"px",H.style.height=l+"px";const K=document.getElementById("ui_start_page"),J=document.getElementById("ui_button_start"),V=document.getElementById("ui_button_highscore"),$=document.getElementById("ui_level");$.style.width=h+"px";const z=document.getElementById("ui_level"),Q=document.getElementById("ui_perks"),X=document.getElementById("ui_loading_label");X.style.width=W.width+"px",X.style.top=W.height/2-9+"px";const Z=document.getElementById("ui_highscore"),tt=document.getElementById("ui_highscore_close"),et=document.getElementById("ui_highscore_table");document.getElementById("ui_game_score").style.width=W.width+"px";const st=document.getElementById("ui_div_perk_0"),it=document.getElementById("ui_div_perk_1"),_t=document.getElementById("ui_div_perk_2");function mt(t){new Audio("assets\\audio\\click_03.ogg").play()}function rt(){new Audio("assets\\audio\\click_02.ogg").play()}J.addEventListener("mouseover",mt),V.addEventListener("mouseover",mt),tt.addEventListener("mouseover",mt),st.addEventListener("mouseover",mt),it.addEventListener("mouseover",mt),_t.addEventListener("mouseover",mt),J.addEventListener("mousedown",rt),V.addEventListener("mousedown",rt),tt.addEventListener("mousedown",rt),tt.addEventListener("click",(function(t){Z.style.visibility="hidden",tt.style.visibility="hidden",new Audio("assets\\audio\\window_close.ogg").play()})),n.e(622).then(n.bind(n,622)).then((t=>{window.addEventListener("contextmenu",(t=>t.preventDefault()));const e=W.getContext("2d"),s=G.getContext("2d"),i=W.width,_=W.height;K.style.width=i+"px",K.style.height=_+"px",J.style.width="180px",J.style.height="40px",J.style.position="absolute",J.style.top="50%",J.style.left="50%",J.style.margin="-60px 0 0 -90px",J.style.visibility="visible",V.style.width="180px",V.style.height="40px",V.style.position="absolute",V.style.top="50%",V.style.left="50%",V.style.margin="20px 0 0 -90px",V.style.visibility="visible",X.style.visibility="hidden",Q.style.width="320px",Q.style.height="330px",Q.style.top=((_-330)/2).toString()+"px",Q.style.left=((i-320)/2).toString()+"px";var m,r=new t.GameSettings;(m=r).set_level_size(15,10),m.set_player_visible_radius(7),m.set_player_radius(.25),m.set_random_buffer_length(1e3),m.set_emitter_settings(0,1.25,1,1,1,.25,.5,1,.3,1,.25,!0),m.set_emitter_settings(5,1.2,1,2,1.2,.25,.5,1,.25,.75,.2,!1),m.set_emitter_settings(5,1.2,.1,1,2,.22,.5,0,7.5,1,0,!1),m.set_emitter_settings(20,1.1,1,3,2,.25,.5,1,.2,.7,.2,!1),m.set_emitter_settings(20,1.1,.3,2,2.5,.2,.5,0,10,.75,0,!1),m.set_emitter_settings(20,1.1,.1,8,.8,.4,1,0,15,.5,0,!1),m.set_emitter_settings(40,.8,1,3,2,.15,.2,1,.2,.5,.25,!1),m.set_emitter_settings(40,.8,1,4,2,.2,.2,1,.2,.5,.25,!1),m.set_emitter_settings(40,.8,1,3,2,.21,.2,0,20,.75,0,!1),m.set_emitter_settings(40,.8,1,4,2,.18,.2,0,20,.75,0,!1),m.set_emitter_settings(40,.8,.25,1,4,.15,1,1,.2,.5,.25,!1),m.set_emitter_settings(60,.5,1,5,4,.12,.25,0,30,.5,0,!1),m.set_perk_shiled_settings(3),m.set_perk_settings(0,new Uint32Array([0,2,10,100]),new Float32Array([2,3,6,7])),m.set_perk_settings(1,new Uint32Array([0,1,2,5,8,10,100]),new Float32Array([.75,.65,.5,.45,.25,.15,.1])),m.set_perk_settings(2,new Uint32Array([0,2,5,10,100]),new Float32Array([0,.52,1.046,1.57,3.1])),m.set_perk_settings(3,new Uint32Array([0,5,10,100]),new Float32Array([10,30,80,100])),m.set_perk_settings(4,new Uint32Array([0,10,100]),new Float32Array([5,1.5,1.1])),m.set_perk_settings(6,new Uint32Array([0,2,5,10]),new Float32Array([1,1.5,2,3]));const o=-r.get_width()/2,n=r.get_width()/2,a=-r.get_height()/2,h=r.get_height()/2;var l=new F(e,s,W.width,W.height,o,n,a,h);l.update(new Float32Array([1,2,0,0])),l.draw();var c,u=void 0;V.addEventListener("click",(function(t){Z.style.width="450px",Z.style.height="330px",Z.style.left=(i-450)/2+"px",Z.style.top=(_-330)/2+"px",function(t){for(let e=t.rows.length-1;e>=0;e--)t.deleteRow(e);const e=window.localStorage.getItem("project_c_score");let s=t.insertRow(),i=s.insertCell(),_=s.insertCell();if(i.innerHTML="Score",_.innerHTML="Date",i.classList.add("ui_highscore_title_cell"),_.classList.add("ui_highscore_title_cell"),null==e);else{const s=JSON.parse(e),i=s.length;for(let e=0;e<i;e++){const i=s[e];let _=t.insertRow(),m=_.insertCell(),r=_.insertCell();m.innerHTML=i[0].toString(),r.innerHTML=i[1].toString(),m.classList.add("ui_highscore_content_cell"),r.classList.add("ui_highscore_content_cell")}}}(et),new Audio("assets\\audio\\window_open_02.ogg").play(),Z.style.visibility="visible",tt.style.visibility="visible",tt.style.width="180px",tt.style.left="135px",tt.style.bottom="20px"})),J.addEventListener("click",(function(e){$.style.visibility="visible",K.style.visibility="hidden",z.style.visibility="hidden",J.style.visibility="hidden",V.style.visibility="hidden",Z.style.visibility="hidden",tt.style.visibility="hidden",l.start_game(),u=new t.Game(r);var s=[!1,!1,!1,!1],i=[0,0],_=!1,m=!1,o=!1;document.onkeydown=function(t){const e=t.key;"d"==e||"ArrowRight"==e?s[0]=!0:"w"==e||"ArrowUp"==e?s[1]=!0:"a"==e||"ArrowLeft"==e?s[2]=!0:"s"!=e&&"ArrowDown"!=e||(s[3]=!0),m||u.command_control(s[0],s[1],s[2],s[3])," "==e?(m?(l.hide_perks(),o||u.command_time()):(u.command_control(!1,!1,!1,!1),_=!1,l.get_time_active()?o=!0:(u.command_time(),o=!1),l.show_perks()),m=!m):"m"==e&&l.switch_background_play()},document.onkeyup=function(t){const e=t.key;"d"==e||"ArrowRight"==e?s[0]=!1:"w"==e||"ArrowUp"==e?s[1]=!1:"a"==e||"ArrowLeft"==e?s[2]=!1:"s"!=e&&"ArrowDown"!=e||(s[3]=!1),m||u.command_control(s[0],s[1],s[2],s[3])},document.onmousemove=function(t){if(t.target==G&&!m){var e=W.getBoundingClientRect();const s=t.clientX-e.left,_=t.clientY-e.top;i[0]=s,i[1]=_}},document.onmousedown=function(t){m||(0==t.button?_=!0:2==t.button&&u.command_time())},document.onmouseup=function(t){m||0==t.button&&(_=!1)},document.getElementById("ui_div_perk_0").addEventListener("click",(function(t){u.command_upgrade_perk(0)})),document.getElementById("ui_div_perk_1").addEventListener("click",(function(t){u.command_upgrade_perk(1)})),document.getElementById("ui_div_perk_2").addEventListener("click",(function(t){u.command_upgrade_perk(2)})),c=performance.now(),function t(){if(l.is_active_game()){const[t,e]=l.canvas_to_world(i[0],i[1]);u.set_look_target(t,e),_&&!m&&u.command_shot()}const e=performance.now(),s=(e-c)/1e3;c=e,u.update(s);var r=u.game_data();l.update(r),l.draw(),window.requestAnimationFrame(t)}()}))}))})();